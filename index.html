<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Работа с базой препаратов</title>
    <meta name="keywords" content="html, css" />
    <meta name="author" content="Юлия Алымова" />
    <link rel="stylesheet" href="./pages/index.css" />
  </head>

  <body class="page">
    <h1 class="header">Наличие смесей/растворов в клинике</h1>

    <h2 class="subheader">Фильтр для отображения</h2>

    <form class="form" action="index.html" method="get" name="filter">
      <!-- файл для обработки запроса (Zakhar.py) привязывается тут -->
      <div class="filter">
        <div class="filter_element">
          <label class="filter_element__label" for="nutr_type"
            >Показывать ЭП или ПЭП</label
          >
          <select
            class="filter_element__select"
            name="nutr_type"
            id="nutr_type"
          >
            <option value="both">все</option>
            <option value="en">только ЭП (смеси)</option>
            <option value="pen">только ПЭП (растворы)</option>
          </select>
        </div>
        <div class="filter_element">
          <label class="filter_element__label" for="caloric"
            >ЭП по калорической плотности</label
          >
          <select class="filter_element__select" name="caloric" id="caloric">
            <option value="both">все</option>
            <option value="iso">изокалорические</option>
            <option value="hyper">гиперкалорические</option>
            <option value="hypo">гипокалорические</option>
          </select>
        </div>
        <div class="filter_element">
          <label class="filter_element__label" for="polymer"
            >ЭП по полимерности</label
          >
          <select class="filter_element__select" name="polymer" id="polymer">
            <option value="both">все</option>
            <option value="poly">полимерные</option>
            <option value="olyg">олигомерные</option>
          </select>
        </div>
        <div class="filter_element">
          <label class="filter_element__label" for="sip_tube">ЭП per os</label>
          <select class="filter_element__select" name="sip_tube" id="sip_tube">
            <option value="both">все</option>
            <option value="sip">сипинг</option>
            <option value="tube">зонд/стома</option>
          </select>
        </div>
        <div class="filter_element">
          <label class="filter_element__label" for="spec"
            >ЭП по специализации</label
          >
          <select class="filter_element__select" name="spec" id="spec">
            <option value="both">все</option>
            <option value="stand">стандартные</option>
            <option value="renal">нефро</option>
            <option value="hepa">гепа</option>
            <option value="pulm">пульмо</option>
            <option value="diab">диабет</option>
          </select>
        </div>
        <div class="filter_element">
          <label class="filter_element__label" for="fiber"
            >ЭП по наличию пищевых волокон</label
          >
          <select class="filter_element__select" name="fiber" id="fiber">
            <option value="both">все</option>
            <option value="fiber">с ПВ</option>
            <option value="no_fiber">без ПВ</option>
          </select>
        </div>
      </div>
      <button class="button form_button form_button__filter" type="submit">
        <h2 class="button_text">Показать</h2>
      </button>
    </form>

    <h2 class="subheader">Смеси/растворы из базы:</h2>

    <div class="table_space">
      <form class="form" action="Zakhar.py" method="post">
        <!-- файл для обработки запроса (Zakhar.py) привязывается еще и тут -->
        <table class="table">
          <tr class="table_row table_row__head">
            <th class="table_cell table_cell__head">Название</th>
            <th class="table_cell table_cell__head">Производитель</th>
            <th class="table_cell table_cell__head">ЭП/ПЭП</th>
            <th class="table_cell table_cell__head">ККал в 100 мл</th>
            <th class="table_cell table_cell__head table_cell_n">Белков в 100 мл</th>
            <th class="table_cell table_cell__head table_cell_n">Жиров в 100 мл</th>
            <th class="table_cell table_cell__head table_cell_n">Углеводов в 100 мл</th>
            <th class="table_cell table_cell__head">Характеристики</th>
            <th class="table_cell table_cell__head">Наличие в клинике</th>
          </tr>
          
          { for nutr in nutritions}
          <!-- все, что в фигурных скобках тут и далее - для шаблона Flask -->
          <tr class="table_row table_row__item">
            <td class="table_cell table_cell__item">{{nutr["name"]}}</td>
            <td class="table_cell table_cell__item">
              {{nutr["manufacturer"]}}
            </td>
            <td class="table_cell table_cell__item">
              ПЭП/ЭП - из {{nutr["is_enteral"]}}
            </td>
            <td class="table_cell table_cell__item">nutrition_feature_value - 16/49</td>
            <td class="table_cell table_cell__item">3</td>
            <td class="table_cell table_cell__item">5</td>
            <td class="table_cell table_cell__item">7</td>
            <td class="table_cell table_cell__item">изокалорическая, олигомерная, сипинг/зонд, стандартная, без ПВ</td>
            <td class="table_cell table_cell__item">
              <input
                type="checkbox"
                checked="TRUE"
                name="presence"
                value="TRUE"
              />
              <!-- в checked как-то надо передать T/F из базы nutr["is_available"], в случае 1
            в шаблоне должен быть атрибут checked="TRUE", в случае 0 - вообще убрать эту строку, т.к со
        значением False он без JS не работает...  -->
            </td>
          </tr>
          { endfor }
          <tr class="table_row table_row__item">
            <!-- эта строка таблицы - просто пример -->
            <td class="table_cell table_cell__item">Нутрини</td>
            <td class="table_cell table_cell__item">Нутриция</td>
            <td class="table_cell table_cell__item">ЭП</td>
            <td class="table_cell table_cell__item">1</td>
            <td class="table_cell table_cell__item">3,5</td>
            <td class="table_cell table_cell__item">3</td>
            <td class="table_cell table_cell__item">14</td>
            <td class="table_cell table_cell__item">изокалорическая, полимерная, сипинг/зонд, стандартная, без ПВ</td>
            <td class="table_cell table_cell__item">
            <!-- эта строка таблицы - просто пример -->
              <form action="Zakhar.py" method="post">
                <input type="checkbox" name="presence" value="TRUE" />
              </form>
            </td>
          </tr>
        </table>
        <button class="button form_button" type="submit">
          <h2 class="button_text">Сохранить в базу</h2>
        </button>
      </form>
    </div>
  </body>
</html>
